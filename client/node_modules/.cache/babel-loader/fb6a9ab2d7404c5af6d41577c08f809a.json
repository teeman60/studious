{"ast":null,"code":"var _jsxFileName = \"/Users/teewhy/Development/code/mod5/studious/client/src/Login.js\";\nimport React from 'react';\nimport Header from './Header';\nimport { Link } from 'react-router-dom';\nimport img from '../src/Assets/login.jpg';\n\nclass Login extends React.Component {\n  constructor() {\n    super();\n\n    this.handleChange = e => {\n      this.setState({\n        [e.target.name]: e.target.value\n      });\n    };\n\n    this.login = e => {\n      e.preventDefault();\n      e.target.reset();\n      fetch('http://localhost:3000/login', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          username: this.state.username,\n          password: this.state.password\n        })\n      }).then(res => res.json()).then(UserInfo => {\n        if (UserInfo.token) {\n          localStorage.token = UserInfo.token;\n          localStorage.user_id = UserInfo.id;\n          localStorage.user_name = UserInfo.username;\n          this.setState({\n            isLoggedIn: true\n          });\n          this.props.history.push(\"/menu\");\n        } else {\n          alert(\"Invalid Username or password\");\n        }\n      });\n    };\n\n    this.resetForm = () => {\n      this.setState({\n        username: '',\n        password: ''\n      });\n    };\n\n    this.state = {\n      user: [],\n      username: \"\",\n      password: \"\",\n      isLoggedIn: false\n    };\n  }\n\n  render() {\n    return this.state.isLoggedIn ? /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(Header, {\n      logged: this.state.isLoggedIn,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 46\n      }\n    })) : /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        textAlign: 'center',\n        height: '50rem',\n        backgroundImage: `url(${img})`\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: e => this.login(e),\n      style: {\n        display: 'inline-block',\n        marginTop: '5rem'\n      },\n      onReset: this.resetForm,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      style: {\n        color: 'greenyellow',\n        fontWeight: 'bold'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 25\n      }\n    }, \"Username\"), /*#__PURE__*/React.createElement(\"input\", {\n      name: \"username\",\n      type: \"text\",\n      placeholder: \"Enter username\",\n      onChange: e => this.handleChange(e),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      style: {\n        color: 'greenyellow',\n        fontWeight: 'bold'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 25\n      }\n    }, \"Password\"), /*#__PURE__*/React.createElement(\"input\", {\n      name: \"password\",\n      type: \"password\",\n      placeholder: \" Enter password\",\n      onChange: e => this.handleChange(e),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"submit\",\n      style: {\n        display: 'inline-block',\n        color: 'green',\n        marginTop: '0.5rem'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 25\n      }\n    })), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 28\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 27\n      }\n    }), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 25\n      }\n    }, \"Don't have an account? \", /*#__PURE__*/React.createElement(Link, {\n      to: \"/signup\",\n      style: {\n        display: 'inline-grid',\n        color: 'greenyellow'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 51\n      }\n    }, \"create a new account\"))));\n  }\n\n}\n\nexport default Login;","map":{"version":3,"sources":["/Users/teewhy/Development/code/mod5/studious/client/src/Login.js"],"names":["React","Header","Link","img","Login","Component","constructor","handleChange","e","setState","target","name","value","login","preventDefault","reset","fetch","method","headers","body","JSON","stringify","username","state","password","then","res","json","UserInfo","token","localStorage","user_id","id","user_name","isLoggedIn","props","history","push","alert","resetForm","user","render","textAlign","height","backgroundImage","display","marginTop","color","fontWeight"],"mappings":"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","sourcesContent":["import React from 'react';\n\nimport Header from './Header'\n\nimport { Link } from 'react-router-dom'\n\nimport img from '../src/Assets/login.jpg'\n\n\n\n\n\n\n\n\n\n\nclass Login extends React.Component {\n   \n    constructor() {\n        super()\n          this.state = {\n            user: [],\n            username: \"\",\n            password: \"\",\n            isLoggedIn: false\n        }\n    }\n\n\n    handleChange = (e) => {\n       \n        this.setState({\n            [e.target.name]: e.target.value\n        })  \n             \n    }\n\n  \n\n    login = (e) => {\n        e.preventDefault()\n        e.target.reset()\n        \n        fetch('http://localhost:3000/login', {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({\n                username: this.state.username,\n                password: this.state.password\n            })\n                    \n        })\n            .then(res => res.json())\n            .then(UserInfo => {\n              \n                if (UserInfo.token) {\n                    localStorage.token = UserInfo.token \n                    localStorage.user_id = UserInfo.id\n                    localStorage.user_name = UserInfo.username\n                    this.setState({isLoggedIn: true}) \n                    this.props.history.push(\"/menu\") \n                } else {\n                    alert(\"Invalid Username or password\")\n                }\n                 \n                \n                \n            })      \n                  \n    }\n\n\n    resetForm = () => {\n        this.setState({ username: '', password: '' })\n    }\n\n\n   \n\n\n    render() { \n\n        return this.state.isLoggedIn ? (<div><Header logged = {this.state.isLoggedIn}/></div>) : (\n                 \n                <div style={{ textAlign: 'center', height: '50rem', backgroundImage: `url(${img})`}}>  \n                 \n                    \n                    <form onSubmit={(e) => this.login(e)} style={{display: 'inline-block', marginTop: '5rem'}} onReset={this.resetForm}>\n                        <label style={{color: 'greenyellow', fontWeight: 'bold'}}>Username</label>\n                        <input name=\"username\" type=\"text\" placeholder=\"Enter username\" onChange={(e) => this.handleChange(e)}/>\n                        <br></br>\n                        <label style={{color: 'greenyellow', fontWeight: 'bold'}}>Password</label>\n                        <input name=\"password\" type=\"password\" placeholder=\" Enter password\" onChange={(e) => this.handleChange(e)}/>\n                        <input type=\"submit\" style={{display: 'inline-block', color: 'green', marginTop: '0.5rem'}}></input>\n                    </form><br></br>\n                    <div ><br></br>\n                        <p>Don't have an account? <Link to=\"/signup\" style={{display: 'inline-grid', color: 'greenyellow'}}>create a new account</Link></p>\n                    </div>                 \n                </div>               \n           \n         );\n    }\n}\n \nexport default Login;"]},"metadata":{},"sourceType":"module"}